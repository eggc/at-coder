https://atcoder.jp/contests/arc143/tasks/arc143_a

# 問題文

黒板に 3 つの非負整数 A, B, C が書かれています．
あなたは，以下の 2 つの操作を好きな順序で好きな回数繰り返すことができます．

- 2 つの整数を選んで，それらから 1 を引く．
- すべての整数から 1 を引く．

あなたの目標は，黒板に書かれている数をすべて 0 にすることです．
目標が達成可能であるかどうか判定し，また可能であるなら必要な最小の操作回数を求めてください．

0 ≤ A,B,C ≤ 10^18

# 案

[A, B, C] に対してできることは下記のこと。

- [A-N, B-N, C-N]
- [A-M1, B-M1, C]
- [A-M2, B, C-M2]
- [A, B-M3, C-M3]

全てを合わせると

- A-N-M1-M2 = 0 ... 1
- B-N-M1-M3 = 0 ... 2
- C-N-M2-M3 = 0 ... 3

を満たす N,M1,M2 が存在すれば 0 になる。
変形すると

A = N + M1 + M2
B = N + M1 + M3
C = N + M2 + M3


A - B = M2 - M3

A - B + C = N + 2 * M2

なのでたとえばサンプルが

A = 20
B = 30
C = 36

だったとする

A - B + C = 20 - 30 + 36
          = 26


26 は N + 2 * M2 で表現できる。
具体的には N = 10, M2 = 8 とか。
このときに

A = 10 + M1 + 8

なので M1 = 2 になる

B = 10 + 2 + M3 なので M3 = 18 となる

結果

A = 10 + 2 + 8
B = 10 + 2 + 18
C = 10 + 18 + 8

という感じで分解できた
ただこれが N の最大化というとよくわからない。

# 操作回数について

操作回数が S = N + M1 + M2 + M3 だとする
A + B + C = 3N + 2M1 + 2M2 + 2M3 となるから
A + B + C = N + 2S
S = (A + B + C - N) / 2

A = 20
B = 30
C = 36

だったとすると全部足して S = (86 - N)/2
N は選ぶことができる数なので適当に入れてみる
N = 0,  S = 43
N = 20, S = 33 となるがしかしこれは正しい操作回数ではなさそうだ。

# あまり深く考えず実際に操作してみれば良いのかもしれない。

高い数字を持っている二つの数字から -1 を繰り返す
数字がそろったら終わり。
最大で 10^18 ステップなのでかなり厳しい
わからないので答えをみてみる

# 模範解答

A≦B≦C とする
トータルの操作回数を K とする

2つの数に -1 するという操作は全ての数から -1 した後、1つの数に +1 すると置き換えられる。
+Z の加算をA, B, C の好きな数字に振り分ける。その後全ての数値を -Z する。
そして、減算と加算は順序は入れ替えられるので、A, B が C になるように加算する。
その回数は C-A + C-B 回である。するとすべての数値が C と一致するようになる。
あとは残り回数(K-Z)を使って減算する。
ここで、合計の操作回数は C をゼロにするのと等しいので K = C である。

解が存在しない場合についても考えると
C ステップ消費してもA,B,C を揃えられない場合はそれ以上操作すると、
負の数になってしまうため解を作れない。
C-A + C-B ≦ C が解の条件となる。
C ≦ A + B を満たすかどうかを判定すれば良い。
